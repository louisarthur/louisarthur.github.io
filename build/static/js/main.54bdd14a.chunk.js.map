{"version":3,"sources":["components/container/index.js","pages/Main/styles.js","configs/database/firebase.js","pages/Main/index.js","Routes.js","styles/global.js","App.js","index.js"],"names":["Container","styled","div","Form","form","rotate","keyframes","SubmitButton","button","attrs","props","type","disabled","loading","css","List","ul","Span","span","Firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","booksRef","database","ref","child","Main","state","newTitle","newAuthor","newPagesBook","newBookread","books","handleDelete","book","setState","filter","t","title","remove","handleChangeRead","index","findIndex","read","readVariable","update","handleStateChangeTitle","q","a","target","value","handleStateChangeAuthor","w","handleStateChangeNumberPages","r","handleStateChangeRead","k","handleSubmitState","z","preventDefault","bookSchema","author","pages","on","snap","booksArray","forEach","shot","push","val","key","console","log","_","prevState","this","map","onSubmit","placeholder","onChange","min","max","name","color","size","StringCompare","compareTwoStrings","onClick","Component","Routes","path","exact","component","createGlobalStyle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54bdd14a.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-height: 1000px;\n  background: #231e23;\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 60px auto;\n  padding: 30px;\n  border-radius: 4px;\n  box-shadow: 0 0 10px rgba(0, 0, 0.1);\n  h1 {\n    color: yellow;\n    font-size: 25px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    svg {\n      margin-right: 10px;\n    }\n    a {\n      color: yellow;\n      font-size: 25px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      text-decoration: none;\n      color: yellow;\n    }\n  }\n`;\n\nexport default Container;\n","import styled, { keyframes, css } from 'styled-components';\n\nexport const Form = styled.form`\n  margin-top: 25px;\n  display: flex;\n  flex-direction: row;\n\n  input,\n  select {\n    flex: 1;\n    border: 1px solid #eeee;\n    border-radius: 4px;\n    padding: 10px 15px;\n    & + input,\n    & + select {\n      margin-left: 20px;\n    }\n\n    &[type='number']::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n    }\n  }\n`;\n\nconst rotate = keyframes`\n  from {\n    transform:rotate(0deg);\n  }\n  to{\n    transform:rotate(360deg);\n  }\n`;\n\nexport const SubmitButton = styled.button.attrs(props => ({\n  type: 'submit',\n  disabled: props.loading,\n}))`\n  background: yellow;\n  border: 0;\n  padding: 0 10px;\n  margin-left: 20px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &[disabled] {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n  ${props =>\n    props.loading &&\n    css`\n      svg {\n        animation: ${rotate} 2s linear infinite;\n      }\n    `}\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n  margin-top: 30px;\n  font-size: 17px;\n  li {\n    padding: 15px 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    color: #eee;\n    & + li {\n      border-top: 1px solid #eeeeee;\n    }\n  }\n`;\nexport const Span = styled.span`\n  display: flex;\n  flex-direction: row;\n  button {\n    background: yellow;\n    border: 0;\n    padding: 5px 10px;\n    margin-left: 20px;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n","import Firebase from \"firebase\";\nconst config = {\n  apiKey: \"AIzaSyDUUVrLF6p6pOPY2E6wxWXOOKmtsjNKml4\",\n  authDomain: \"library-b5686.firebaseapp.com\",\n  databaseURL: \"https://library-b5686.firebaseio.com\",\n  projectId: \"library-b5686\",\n  storageBucket: \"library-b5686.appspot.com\",\n  messagingSenderId: \"783411109646\",\n  appId: \"1:783411109646:web:44e854326cbbd85c15015f\",\n  measurementId: \"G-HMJHCEMYQ0\"\n};\nFirebase.initializeApp(config);\n\nconst rootRef = Firebase.database().ref();\nexport const booksRef = rootRef.child(\"Books\");\n","import React, { Component } from \"react\";\nimport { FaBook, FaSpinner, FaPlus, FaSearch } from \"react-icons/fa\";\nimport Container from \"../../components/container/index\";\nimport { Form, SubmitButton, List, Span } from \"./styles\";\nimport StringCompare from \"string-similarity\";\nimport { booksRef } from \"../../configs/database/firebase\";\n\nexport default class Main extends Component {\n  state = {\n    newTitle: \"\",\n    newAuthor: \"\",\n    newPagesBook: 0,\n    newBookread: false,\n    books: [],\n    loading: false\n  };\n  componentDidMount() {\n    booksRef.on(\"value\", snap => {\n      const booksArray = [];\n      snap.forEach(shot => {\n        booksArray.push({ ...shot.val(), title: shot.key });\n      });\n      this.setState({ books: booksArray });\n      console.log(booksArray);\n    });\n  }\n  componentDidUpdate(_, prevState) {\n    const { books } = this.state;\n    if (prevState.books !== books) {\n      books.map(book => booksRef.child(book.title).update(book));\n    }\n  }\n  handleDelete = book => {\n    this.setState({\n      books: this.state.books.filter(t => t !== book)\n    });\n    booksRef.child(book.title).remove();\n  };\n  handleChangeRead = book => {\n    let books = this.state.books;\n    let index = this.state.books.findIndex(t => t === book);\n    books[index] = {\n      ...books[index],\n      read: book.read ? false : true\n    };\n    this.setState({ books: books });\n    // console.log(this.state.books);\n    // fiz isso abaixo, pois precisava fazer o click de duas vezes, o problema estava na parte\n    // em que eu precisava enviar 2 vezes, pois eu estava colocando book.read, e tem que ser\n    // a variavél já trocada. e book.read não estava trocada.got c\n    let readVariable = book.read ? false : true;\n    booksRef.child(book.title).update({ read: readVariable });\n  };\n  handleStateChangeTitle = async q => {\n    // this.state.books.map(book => {\n    //   const ola = StringCompare.compareTwoStrings(q.target.value, book.title);\n    //   // console.log(ola);\n    // });\n    // console.log(Object.keys(q.target.value).length);\n\n    // console.log(q.target.value.size);\n    // this.state.books.map(book => console.log(book.title));\n    this.setState({ newTitle: q.target.value });\n  };\n  handleStateChangeAuthor = w => {\n    this.setState({ newAuthor: w.target.value });\n  };\n  handleStateChangeNumberPages = r => {\n    this.setState({ newPagesBook: r.target.value });\n  };\n  handleStateChangeRead = k => {\n    this.setState({ newBookread: k.target.value });\n  };\n  handleSubmitState = async z => {\n    z.preventDefault();\n    this.setState({ loading: true });\n    const {\n      newTitle,\n      newAuthor,\n      newPagesBook,\n      newBookread,\n      books\n    } = this.state;\n    const bookSchema = {\n      title: newTitle,\n      author: newAuthor,\n      pages: newPagesBook,\n      read: newBookread\n    };\n    this.setState({\n      books: [...books, bookSchema],\n      newTitle: \"\",\n      newAuthor: \"\",\n      newBookread: false,\n      newPagesBook: 0,\n      loading: false\n    });\n  };\n  render() {\n    const { newTitle, newAuthor, newPagesBook, loading, books } = this.state;\n    return (\n      <Container>\n        <h1>\n          <FaBook /> Books\n        </h1>\n        <h1>\n          <FaSearch />\n          Pesquisar\n        </h1>\n\n        <Form onSubmit={this.handleSubmitState}>\n          <input\n            type=\"text\"\n            placeholder=\"Add title\"\n            value={newTitle}\n            onChange={this.handleStateChangeTitle}\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Add Author\"\n            value={newAuthor}\n            onChange={this.handleStateChangeAuthor}\n          />\n\n          <input\n            type=\"number\"\n            placeholder=\"Add pages number\"\n            value={newPagesBook}\n            min=\"0\"\n            max=\"10000\"\n            onChange={this.handleStateChangeNumberPages}\n          />\n\n          <select name=\"read\" onChange={this.handleStateChangeRead}>\n            <option value={false}>Unread</option>\n            <option value={true}>Read</option>\n          </select>\n\n          <SubmitButton loading={loading}>\n            {loading ? (\n              <FaSpinner color=\"#222\" size={15} />\n            ) : (\n              <FaPlus color=\"#222\" size={15} />\n            )}\n          </SubmitButton>\n        </Form>\n        {!newTitle ? (\n          <List>\n            {books.map(book => (\n              <li key={book.title}>\n                {/* <img src=\"\" alt=\"\"/> */}\n                <span>{book.title}</span>\n                <span>{book.author}</span>\n                <span>{book.pages}</span>\n                {book.read ? <span>Read</span> : <span>Unread</span>}\n                <Span>\n                  {book.read ? (\n                    <button\n                      type=\"button\"\n                      onClick={() => this.handleChangeRead(book)}\n                    >\n                      Unread\n                    </button>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={() => this.handleChangeRead(book)}\n                    >\n                      Read\n                    </button>\n                  )}\n                  <button type=\"button\" onClick={() => this.handleDelete(book)}>\n                    Remove\n                  </button>\n                </Span>\n              </li>\n            ))}\n          </List>\n        ) : (\n          <List>\n            {books.map(book =>\n              StringCompare.compareTwoStrings(newTitle, book.title) > 0.1 ? (\n                <li key={book.title}>\n                  {/* <img src=\"\" alt=\"\"/> */}\n                  <span>{book.title}</span>\n                  <span>{book.author}</span>\n                  <span>{book.pages}</span>\n                  {book.read ? <span>Read</span> : <span>Unread</span>}\n                  <Span>\n                    {book.read ? (\n                      <button\n                        type=\"button\"\n                        onClick={() => this.handleChangeRead(book)}\n                      >\n                        Unread\n                      </button>\n                    ) : (\n                      <button\n                        type=\"button\"\n                        onClick={() => this.handleChangeRead(book)}\n                      >\n                        Read\n                      </button>\n                    )}\n                    <button\n                      type=\"button\"\n                      onClick={() => this.handleDelete(book)}\n                    >\n                      Remove\n                    </button>\n                  </Span>\n                </li>\n              ) : (\n                <Span>Not Found</Span>\n              )\n            )}\n          </List>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport Main from './pages/Main';\n\nexport default function Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path={'/'} exact component={Main} />\n        {/* <Route path={'/search/'} component={Search} /> */}\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n\n  *{\n    margin:0;\n    padding:0;\n    outline:0;\n    box-sizing:border-box;\n  }\n  html, body, #root{\n    min-height:100%;\n  }\n  body{\n    background-color: #981f3f21;\n    -webkit-font-smoothing: antialiased !important;\n  }\n  body,input,button{\n    color: #222;\n    font-size:14px;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  button{\n    cursor:pointer;\n  }\n`;\n","import React from 'react';\nimport Routes from './Routes';\nimport GlobalStyles from './styles/global';\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n      <GlobalStyles />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}